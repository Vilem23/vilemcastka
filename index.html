<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>Vil√©m - Portfolio</title>
  <link rel="stylesheet" href="style.css">
</head>
<body onload="document.body.style.opacity='1'">
  <header>
    <nav class="nav">
      <nav class="nav">
        <button data-section="section1"><a href="#section1">√öVOD</a></button>
        <button data-section="section2"><a href="#section2">O MNƒö</a></button>
        <button data-section="section3">STUDIUM</button>
        <button data-section="section4">PROJEKTY</button>
      </nav>
    </nav>
  </header>

  <main id="main">
    <img src="index/img/background.png" alt="Pozad√≠" class="background">
    <section class="hero" id="section1">
      <!-- Bublinov√Ω efekt -->
      <div class="bubbles"></div>

      <div class="hero-text">
        <h1>AHOJ, J√Å JSEM</h1>
        <h2>VIL√âM</h2>
      </div>

      <img src="index/img/vilem.png" class="person">

      <div class="social-icons">
        <a href="#"><img src="index/logos/instagram.png" alt="Instagram"></a>
        <a href="#"><img src="index/logos/discord.png" alt="Discord"></a>
        <a href="#"><img src="index/logos/facebook.png" alt="Facebook"></a>
      </div>

      <div class="buttons">
        <a href="#" class="portfolio-btn">M√â PORTFOLIO</a>
        <a href="kontakt.html" class="contact-btn">KONTAKTUJ Mƒö</a>
        <a href="#section2" class="scroll-btn"><img src="index/img/scroll-btn.png" alt=""></a>
      </div>
    </section>
    <section id="section2">
      <div class="flexbox1">
        <img src="index/img/background.png" alt="Pozad√≠" class="background">

        <div class="hero-text2">
          <h1>NƒöCO</h1>
          <h2>O MNƒö</h2>

          <div class="rotator-wrapper">
            <div class="arrow up">‚ñ≤</div>
          
            <div class="rotator">
              <div class="item" data-url="zaliby.html">Z√ÅLIBY</div>
              <div class="item" data-url="konicky.html">KON√çƒåKY</div>
              <div class="item active" data-url="zaklady.html">Z√ÅKLADY</div>
              <div class="item" data-url="filmy.html">FILMY</div>
              <div class="item" data-url="rodina.html">RODINA</div>
            </div>
          
            <div class="arrow down">‚ñº</div>
          </div>
          

      </div>
      
    </section>
  </main>

  <!-- JS bubliny -->
  <script>
    const bubblesContainer = document.querySelector('.bubbles');

    // Pole obr√°zk≈Ø pro bubliny
    const bubbleImages = ['index/icn/icn1.png', 'index/icn/icn2.png', 'index/icn/icn3.png'];

    // Parametry
    const spawnRate = 0.5; // Kolik bublin se spawne ka≈ædou sekundu
    const spawnInterval = 500; // Interval v milisekund√°ch (1 sekunda)

    function createBubble() {
      const img = document.createElement('img');

      img.src = bubbleImages[Math.floor(Math.random() * bubbleImages.length)];
      img.classList.add('bubble-img');

      const size = Math.random() * 20 + 10;
      img.style.height = `${size}px`;
      img.style.left = `${Math.random() * 100}%`;

      const rotateX = Math.random() * 360;
      const rotateY = Math.random() * 360;
      const rotateZ = Math.random() * 360;
      img.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg) rotateZ(${rotateZ}deg)`;

      img.style.animationDuration = `${5 + Math.random() * 5}s`;
      img.style.animationDelay = `${Math.random()}s`;

      bubblesContainer.appendChild(img);

      setTimeout(() => {
        img.remove();
      }, 10000);
    }

    // Funkce pro generov√°n√≠ bublin na z√°kladƒõ spawn rate
    function spawnBubbles() {
      for (let i = 0; i < spawnRate; i++) {
        createBubble();
      }
    }

    // Spust√≠me generov√°n√≠ bublin ka≈ædou sekundu
    setInterval(spawnBubbles, spawnInterval);
  
    // üîΩ Zvƒõt≈°en√≠ tlaƒç√≠tka "M√â PORTFOLIO"
    const portfolioBtn = document.querySelector('.portfolio-btn');
  
    setTimeout(() => {
      portfolioBtn.classList.add('enlarged');
  
      setTimeout(() => {
        portfolioBtn.classList.remove('enlarged');
      }, 2000); // Po 3 sekund√°ch odstran√≠ zvƒõt≈°en√≠
  
    }, 7000); // Po 5 sekund√°ch p≈ôid√° zvƒõt≈°en√≠

    const scrollBtn = document.querySelector('.scroll-btn');

// Funkce pro p≈ôid√°n√≠ t≈ô√≠dy "bouncing" k tlaƒç√≠tku a spu≈°tƒõn√≠ animace
function triggerBounce() {
  // P≈ôid√°me t≈ô√≠du, kter√° spust√≠ animaci
  scrollBtn.classList.add('bouncing1');
  // Po 1 sekundƒõ (d√©lce animace) odstran√≠me t≈ô√≠du, aby se animace nemohla opakovat
  setTimeout(() => {
    scrollBtn.classList.remove('bouncing1');
  }, 1000);  // 1000ms = 1 sekunda
}

// Spust√≠ funkci triggerBounce ka≈æd√Ωch 5 sekund
setInterval(triggerBounce, 5000);

window.addEventListener('load', function () {
      document.getElementById('main').classList.add('visible');
    });

    const items = document.querySelectorAll('.rotator .item');
let currentIndex = 2; // V√Ωchoz√≠ aktivn√≠ index (Z√ÅKLADY)

function updateClasses() {
  items.forEach((item, i) => {
    item.classList.toggle('active', i === currentIndex);
  });
}

items.forEach((item, i) => {
  item.addEventListener('click', () => {
    if (i === currentIndex) {
      // ‚úÖ Pokud je kliknut√Ω aktivn√≠ ‚Äì p≈ôesmƒõruj na adresu
      const url = item.getAttribute('data-url');
      if (url) {
        window.location.href = url;
      }
    } else {
      // üîÑ Pokud NE ‚Äì otoƒç√≠me seznam
      const total = items.length;
      const offset = i - currentIndex;
      const texts = Array.from(items).map(el => el.textContent);
      const urls = Array.from(items).map(el => el.getAttribute('data-url'));

      // Rotuj texty a adresy
      const rotatedTexts = texts.map((_, idx) => texts[(idx + offset + total) % total]);
      const rotatedUrls = urls.map((_, idx) => urls[(idx + offset + total) % total]);

      items.forEach((el, idx) => {
        el.textContent = rotatedTexts[idx];
        el.setAttribute('data-url', rotatedUrls[idx]);
      });

      currentIndex = 2; // Znovu nastavit aktivn√≠ st≈ôed
      updateClasses();
    }
  });
});

updateClasses();

const arrowUp = document.querySelector('.arrow.up');
const arrowDown = document.querySelector('.arrow.down');

arrowUp.addEventListener('click', () => {
  rotateItems(-1);
});

arrowDown.addEventListener('click', () => {
  rotateItems(1);
});

function rotateItems(direction) {
  const total = items.length;
  const texts = Array.from(items).map(el => el.textContent);
  const urls = Array.from(items).map(el => el.getAttribute('data-url'));

  // Rotace podle smƒõru
  const rotatedTexts = direction === 1
    ? [...texts.slice(-1), ...texts.slice(0, -1)]
    : [...texts.slice(1), texts[0]];
    
  const rotatedUrls = direction === 1
    ? [...urls.slice(-1), ...urls.slice(0, -1)]
    : [...urls.slice(1), urls[0]];

  items.forEach((el, idx) => {
    el.textContent = rotatedTexts[idx];
    el.setAttribute('data-url', rotatedUrls[idx]);
  });

  currentIndex = 2; // St≈ôedn√≠ pozice
  updateClasses();
}

window.addEventListener('scroll', () => {
  const sections = document.querySelectorAll('section');
  const navButtons = document.querySelectorAll('.nav button');

  let currentSectionId = '';

  sections.forEach(section => {
    const rect = section.getBoundingClientRect();
    if (rect.top <= window.innerHeight / 2 && rect.bottom >= window.innerHeight / 2) {
      currentSectionId = section.id;
    }
  });

  navButtons.forEach(btn => {
    if (btn.dataset.section === currentSectionId) {
      btn.classList.add('active');
    } else {
      btn.classList.remove('active');
    }
  });
});
  </script>
</body>
</html>
